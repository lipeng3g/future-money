# UI ç»„ä»¶æ¶æ„

## æ¦‚è¿°
åŸºäº Vue 3 + Ant Design Vue æ„å»ºæ¡Œé¢ç«¯åº”ç”¨ç•Œé¢ã€‚

---

## 1. æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Headerï¼ˆé¡¶éƒ¨æ ï¼‰                                â”‚
â”‚  - åˆå§‹ä½™é¢è®¾ç½®                                  â”‚
â”‚  - å¯¼å…¥/å¯¼å‡ºæŒ‰é’®                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚  EventPanel  â”‚  â”‚   ChartArea             â”‚ â”‚
â”‚  â”‚  (äº‹ä»¶ç®¡ç†)   â”‚  â”‚   (å›¾è¡¨å±•ç¤ºåŒº)           â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                         â”‚ â”‚
â”‚  â”‚              â”‚  â”‚   - ä½™é¢æ›²çº¿å›¾           â”‚ â”‚
â”‚  â”‚              â”‚  â”‚   - ç°é‡‘æµæŸ±çŠ¶å›¾         â”‚ â”‚
â”‚  â”‚              â”‚  â”‚   - æœˆåº¦ç»Ÿè®¡             â”‚ â”‚
â”‚  â”‚              â”‚  â”‚                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    320px              flex: 1                  â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç»„ä»¶æ ‘ç»“æ„

```
App.vue
â”œâ”€â”€ AppHeader.vue
â”‚   â”œâ”€â”€ InitialBalanceSetting
â”‚   â””â”€â”€ DataActions (å¯¼å…¥/å¯¼å‡º)
â”‚
â”œâ”€â”€ MainLayout.vue
â”‚   â”œâ”€â”€ EventPanel.vue (å·¦ä¾§é¢æ¿)
â”‚   â”‚   â”œâ”€â”€ EventList.vue
â”‚   â”‚   â”‚   â””â”€â”€ EventCard.vue (å•ä¸ªäº‹ä»¶)
â”‚   â”‚   â””â”€â”€ EventFormModal.vue (æ·»åŠ /ç¼–è¾‘è¡¨å•)
â”‚   â”‚
â”‚   â””â”€â”€ ChartArea.vue (å³ä¾§ä¸»åŒºåŸŸ)
â”‚       â”œâ”€â”€ TimeRangeControl.vue (æ—¶é—´èŒƒå›´æ§åˆ¶)
â”‚       â”œâ”€â”€ BalanceChart.vue (ä½™é¢æ›²çº¿å›¾)
â”‚       â”œâ”€â”€ CashFlowChart.vue (ç°é‡‘æµæŸ±çŠ¶å›¾)
â”‚       â””â”€â”€ StatisticsPanel.vue (ç»Ÿè®¡é¢æ¿)
```

---

## 3. æ ¸å¿ƒç»„ä»¶è¯´æ˜

### 3.1 AppHeader.vue
é¡¶éƒ¨æ ï¼ŒåŒ…å«å…¨å±€æ“ä½œã€‚

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºå’Œä¿®æ”¹åˆå§‹ä½™é¢
- å¯¼å…¥/å¯¼å‡ºæ•°æ®
- é¢„è­¦é˜ˆå€¼è®¾ç½®

**ä¸»è¦å…ƒç´ **ï¼š
- InputNumberï¼šåˆå§‹ä½™é¢è¾“å…¥
- Buttonï¼šå¯¼å…¥/å¯¼å‡ºæŒ‰é’®

---

### 3.2 EventPanel.vue
å·¦ä¾§äº‹ä»¶ç®¡ç†é¢æ¿ã€‚

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæ‰€æœ‰äº‹ä»¶åˆ—è¡¨
- æ·»åŠ æ–°äº‹ä»¶æŒ‰é’®
- ç¼–è¾‘/åˆ é™¤äº‹ä»¶

**çŠ¶æ€**ï¼š
```typescript
interface State {
  showModal: boolean;      // æ˜¯å¦æ˜¾ç¤ºè¡¨å•
  editingEvent: CashFlowEvent | null;  // æ­£åœ¨ç¼–è¾‘çš„äº‹ä»¶
}
```

---

### 3.3 EventCard.vue
å•ä¸ªäº‹ä»¶å¡ç‰‡ã€‚

**Props**ï¼š
```typescript
interface Props {
  event: CashFlowEvent;
}
```

**æ˜¾ç¤ºå†…å®¹**ï¼š
- äº‹ä»¶åç§°
- é‡‘é¢ï¼ˆå¸¦é¢œè‰²ï¼šç»¿è‰²=æ”¶å…¥ï¼Œçº¢è‰²=æ”¯å‡ºï¼‰
- é‡å¤è§„åˆ™æè¿°ï¼ˆå¦‚"æ¯æœˆ10å·"ï¼‰
- æ“ä½œæŒ‰é’®ï¼ˆç¼–è¾‘/åˆ é™¤/ç¦ç”¨ï¼‰

**ç¤ºä¾‹å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° å·¥èµ„                     â”‚
â”‚ +Â¥2,000  æ¯æœˆ10å·           â”‚
â”‚ [ç¼–è¾‘] [åˆ é™¤] [ç¦ç”¨]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.4 EventFormModal.vue
äº‹ä»¶æ·»åŠ /ç¼–è¾‘è¡¨å•ï¼ˆModal å¼¹çª—ï¼‰ã€‚

**è¡¨å•å­—æ®µ**ï¼š
1. äº‹ä»¶åç§°ï¼ˆInputï¼‰
2. ç±»å‹é€‰æ‹©ï¼ˆRadioï¼šæ”¶å…¥/æ”¯å‡ºï¼‰
3. é‡‘é¢ï¼ˆInputNumberï¼‰
4. é‡å¤ç±»å‹ï¼ˆSelectï¼šä¸€æ¬¡æ€§/æ¯æœˆ/æ¯å¹´ï¼‰
5. æ—¥æœŸé…ç½®ï¼ˆæ ¹æ®é‡å¤ç±»å‹åŠ¨æ€æ˜¾ç¤ºï¼‰
   - ä¸€æ¬¡æ€§ï¼šDatePicker
   - æ¯æœˆï¼šInputNumberï¼ˆ1-31ï¼‰
   - æ¯å¹´ï¼šDatePickerï¼ˆæœˆæ—¥ï¼‰
6. èµ·å§‹æ—¥æœŸï¼ˆDatePickerï¼‰
7. ç»“æŸæ—¥æœŸï¼ˆDatePickerï¼Œå¯é€‰ï¼‰

**éªŒè¯è§„åˆ™**ï¼š
- åç§°ï¼šå¿…å¡«
- é‡‘é¢ï¼šå¿…å¡«ï¼Œå¤§äº0
- æ—¥æœŸï¼šå¿…å¡«ï¼Œæ ¼å¼æ­£ç¡®

---

### 3.5 BalanceChart.vue
ä½™é¢æ›²çº¿å›¾ï¼ˆEChartsï¼‰ã€‚

**åŠŸèƒ½**ï¼š
- æ˜¾ç¤ºæœªæ¥ä½™é¢èµ°åŠ¿
- æ ‡æ³¨é¢„è­¦çº¿
- é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦æƒ…
- æ”¯æŒæ‹–åŠ¨å’Œç¼©æ”¾

**å›¾è¡¨é…ç½®**ï¼š
- ç±»å‹ï¼šlineï¼ˆæŠ˜çº¿å›¾ï¼‰
- æ”¯æŒ areaï¼ˆé¢ç§¯å›¾ï¼‰åˆ‡æ¢
- é¢œè‰²ï¼šæ ¹æ®ä½™é¢é«˜ä½åŠ¨æ€å˜åŒ–

---

### 3.6 CashFlowChart.vue
ç°é‡‘æµæŸ±çŠ¶å›¾ï¼ˆEChartsï¼‰ã€‚

**åŠŸèƒ½**ï¼š
- æŒ‰æœˆæ˜¾ç¤ºæ”¶å…¥/æ”¯å‡ºå¯¹æ¯”
- å †å æŸ±çŠ¶å›¾
- æ˜¾ç¤ºå‡€å˜åŒ–

**å›¾è¡¨é…ç½®**ï¼š
- ç±»å‹ï¼šbarï¼ˆæŸ±çŠ¶å›¾ï¼‰
- å †å æ¨¡å¼ï¼šstack
- é¢œè‰²ï¼šç»¿è‰²ï¼ˆæ”¶å…¥ï¼‰ã€çº¢è‰²ï¼ˆæ”¯å‡ºï¼‰

---

## 4. æ ·å¼è§„èŒƒ

### 4.1 é¢œè‰²å®šä¹‰

```scss
// colors.scss
$color-income: #52c41a;      // æ”¶å…¥ï¼šç»¿è‰²
$color-expense: #ff4d4f;     // æ”¯å‡ºï¼šçº¢è‰²
$color-warning: #faad14;     // è­¦å‘Šï¼šæ©™è‰²
$color-primary: #1890ff;     // ä¸»è‰²ï¼šè“è‰²

$color-border: #d9d9d9;      // è¾¹æ¡†
$color-bg-light: #fafafa;    // æµ…èƒŒæ™¯
$color-text-primary: #262626; // ä¸»æ–‡å­—
$color-text-secondary: #8c8c8c; // æ¬¡è¦æ–‡å­—
```

### 4.2 é—´è·è§„èŒƒ

```scss
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 16px;
$spacing-lg: 24px;
$spacing-xl: 32px;
```

---

## 5. å“åº”å¼è®¾è®¡ï¼ˆç®€åŒ–ç‰ˆï¼‰

å½“å‰ç‰ˆæœ¬ä¸“æ³¨æ¡Œé¢ç«¯ï¼Œæœ€å°å®½åº¦ï¼š1024pxã€‚

```scss
.main-layout {
  min-width: 1024px;
  display: flex;
  gap: 24px;
}

.event-panel {
  width: 320px;
  flex-shrink: 0;
}

.chart-area {
  flex: 1;
  min-width: 0;
}
```

---

## 6. çŠ¶æ€ç®¡ç†ï¼ˆPinia Storeï¼‰

```typescript
// stores/finance.ts
export const useFinanceStore = defineStore('finance', () => {
  // State
  const account = ref<AccountConfig>({ ... });
  const events = ref<CashFlowEvent[]>([]);

  // Getters
  const timeline = computed(() => { ... });
  const analytics = computed(() => { ... });

  // Actions
  function addEvent(event: Omit<CashFlowEvent, 'id'>) { ... }
  function updateEvent(id: string, updates: Partial<CashFlowEvent>) { ... }
  function deleteEvent(id: string) { ... }

  return {
    account,
    events,
    timeline,
    analytics,
    addEvent,
    updateEvent,
    deleteEvent
  };
});
```

ä½¿ç”¨ç¤ºä¾‹ï¼š
```vue
<script setup>
import { useFinanceStore } from '@/stores/finance';

const store = useFinanceStore();

// è®¿é—®æ•°æ®
console.log(store.events);

// è°ƒç”¨æ–¹æ³•
store.addEvent({ ... });
</script>
```

---

## 7. è·¯ç”±è®¾è®¡ï¼ˆç®€åŒ–ç‰ˆï¼‰

å½“å‰ç‰ˆæœ¬ä¸ºå•é¡µåº”ç”¨ï¼Œæš‚ä¸éœ€è¦è·¯ç”±ã€‚

æœªæ¥å¯æ‰©å±•ï¼š
- `/` - ä¸»ç•Œé¢
- `/settings` - è®¾ç½®é¡µé¢
- `/export` - å¯¼å‡ºé¡µé¢

---

## æ€»ç»“

- é‡‡ç”¨ç»å…¸çš„å·¦å³åˆ†æ å¸ƒå±€
- å·¦ä¾§ç®¡ç†äº‹ä»¶ï¼Œå³ä¾§å±•ç¤ºå›¾è¡¨
- ä½¿ç”¨ Ant Design Vue ç»„ä»¶åº“
- é€šè¿‡ Pinia ç®¡ç†å…¨å±€çŠ¶æ€
- å›¾è¡¨ä½¿ç”¨ ECharts å®ç°
